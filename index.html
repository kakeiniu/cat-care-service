<!DOCTYPE html>
<html lang="zh-CN">
<head>
  <meta charset="UTF-8">
  <title>çŒ«å’ªä¸Šé—¨çœ‹æŠ¤æœåŠ¡</title>

  <style>
    body {
      font-family: Arial, sans-serif;
      background-color: #f7f7f7;
      padding: 40px;
    }
    .container {
      max-width: 700px;
      margin: 0 auto;
      background: #fff;
      padding: 30px;
      border-radius: 8px;
    }
    h1 { text-align: center; }
    input, textarea, select {
      width: 100%;
      padding: 8px;
      margin-top: 6px;
    }
    button {
      margin-top: 20px;
      width: 100%;
      padding: 12px;
      background: #ff9900;
      color: #fff;
      border: none;
      border-radius: 6px;
      font-size: 16px;
      cursor: pointer;
    }
  </style>
</head>

<body>
<div class="container">
  <h1>ğŸ± çŒ«å’ªä¸Šé—¨çœ‹æŠ¤é¢„çº¦</h1>

  <form onsubmit="handleSubmit(event)">
    <h3>ğŸ‘¤ è”ç³»äººä¿¡æ¯</h3>
    <input id="name" placeholder="å§“å" required>
    <input id="contact" placeholder="å¾®ä¿¡ / ç”µè¯" required>
    <input id="address" placeholder="ä¸Šé—¨åœ°å€" required>

    <h3>ğŸ± çŒ«å’ªä¿¡æ¯</h3>
    <input id="catName" placeholder="çŒ«å’ªåå­—" required>
    <input id="catAge" type="number" placeholder="çŒ«å’ªå¹´é¾„">
    <textarea id="note" placeholder="ç‰¹æ®Šè¯´æ˜"></textarea>

    <h3>ğŸ“… ä¸Šé—¨æ—¶é—´</h3>
    <input id="date" type="date" required>
    <select id="time" required>
      <option value="">è¯·é€‰æ‹©æ—¶é—´æ®µ</option>
      <option>ä¸Šåˆï¼ˆ9:00 - 12:00ï¼‰</option>
      <option>ä¸‹åˆï¼ˆ13:00 - 17:00ï¼‰</option>
      <option>æ™šä¸Šï¼ˆ18:00 - 20:00ï¼‰</option>
    </select>

    <button type="submit">æäº¤é¢„çº¦ä¿¡æ¯</button>
  </form>
</div>

<script>
async function handleSubmit(event) {
  event.preventDefault();

  const data = {
    name: name.value,
    contact: contact.value,
    address: address.value,
    catName: catName.value,
    catAge: catAge.value,
    note: note.value,
    date: date.value,
    time: time.value
  };

  const response = await fetch("http://localhost:3000/api/appointment", {
    method: "POST",
    headers: { "Content-Type": "application/json" },
    body: JSON.stringify(data)
  });

  if (response.ok) {
    alert("é¢„çº¦æäº¤æˆåŠŸï¼è¯·è€å¿ƒç­‰å¾… 1â€“2 å¤©ï¼Œå®¢æœå°†ä¸æ‚¨è”ç³»ã€‚");
  } else {
    alert("æäº¤å¤±è´¥ï¼Œè¯·ç¨åå†è¯•");
  }
}
</script>
</body>
</html>